# Surgical Robotics Dataset Generation

This folder contains scripts and knowledge bases for generating a training dataset that maps surgical phases and tool detections to robotic control concepts and algorithms.

## Folder Contents

- **data_generator.py**  
  Python script that reads the knowledge base JSON files and generates a training dataset (`robot_control_train.json`).
  - Uses multiple prompt "angles" for each phase and tool (e.g., direct, comparison, safety, future AI).
  - Output is a list of instruction/response pairs for use in training or fine-tuning language models.

- **phase_to_control_mapping.json**  
  Knowledge base mapping surgical phases (e.g., Preparation, Dissection) to robotic control concepts and facts.
  - Example:
    ```json
    "Preparation": {
      "concept": "Visual SLAM",
      "fact": "During preparation, a robot uses Visual SLAM (Simultaneous Localization and Mapping)..."
    }
    ```

- **tool_to_robot_mapping.json**  
  Knowledge base mapping surgical tools (e.g., Hook, Grasper) to their robotic equivalents and control concepts.
  - Example:
    ```json
    "Hook": {
      "concept": "EndoWrist (7 DOFs)",
      "fact": "The manual Hook is rigid. A robotic hook uses EndoWrist technology with 7 Degrees of Freedom..."
    }
    ```

- **robot_control_train.json**  
  Output file generated by `data_generator.py`.
  - Contains a list of instruction/response pairs for both phases and tools, suitable for training conversational AI or control theory models.

## How to Use

1. **Edit the knowledge base files**  
   - Update `phase_to_control_mapping.json` and `tool_to_robot_mapping.json` with new concepts or facts as needed.

2. **Run the data generator**  
   - Execute:  
     ```bash
     python3 data_generator.py
     ```
   - This will create (or overwrite) `robot_control_train.json` with the latest dataset.

3. **Use the generated dataset**  
   - The output JSON can be used for training/fine-tuning LLMs, building educational tools, or robotic control simulation.

## File Relationships

- `data_generator.py` loads both mapping files, creates diverse Q&A pairs, and saves the result.
- All mappings are editable and extensible for new surgical phases or tools.

## Example Output

```json
[
  {
    "instruction": "The vision system detects 'Preparation'. What robotic algorithm applies here?",
    "response": "For Preparation, the critical concept is Visual SLAM. During preparation, a robot uses Visual SLAM (Simultaneous Localization and Mapping)..."
  },
  {
    "instruction": "The vision system detects the tool 'Hook'. What is the robotic equivalent?",
    "response": "You are seeing a manual Hook. In a robotic system, the equivalent uses EndoWrist (7 DOFs)..."
  }
]
```
